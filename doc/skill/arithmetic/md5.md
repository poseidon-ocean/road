# MD5算法
* 网络传输安全所做的[信息摘要]签名，通常是用MD5算法来生成的
* MD5(Message-digest algorithm 5)是消息摘要的一种实现，可以从任意长度的明文字符串生成128位的哈希值

## 第三方支付平台如何验证请求的签名
* 1.发送方和请求方约定相同的字符串拼接规则，约定相同的密钥。
*　2.第三方平台接到支付请求，按规则拼接业务参数和密钥，利用MD5算法生成Sign。
* 3.用第三方平台自己生成的Sign和请求发送过来的Sign做对比，如果两个Sign值一模一样，则签名无误，如果两个Sign值不同，则信息做了篡改。这个过程叫做验签。

## MD5的哈希值在底层是如何生成的
* 只有把底层细节弄明白，才算是真正掌握一门技术

## MD5算法底层原理
* MD5算法的过程分为四步：处理原文，设置初始值，循环加工，拼接结果。
* sun.security.provider.MD5
* 第一步:处理原文
	* 首先，我们计算出原文长度(bit)对512求余的结果
	* 如果不等于448，就需要填充原文使得原文对512求余的结果等于448
	* 填充的方法是第一位填充1，其余位填充0。填充完后，信息的长度就是512xN+448
	* 用剩余的位置（512-448=64位）记录原文的真正长度，把长度的二进制值补在最后
* 第二步:设置初始值
	* MD5#implReset 这个是java MD5设置的默认初始值
* 第三步:循环加工
	* 一共进行多少次循环呢？由处理后的原文长度决定
		* 假设处理后的原文长度是M
		* 主循环次数 = M / 512
		* 每个主循环中包含 512 / 32 x 4 = 64 次 子循环。
	* MD5#implCompress 是java MD5循环的实现
* 第四步:拼接结果
	*　把循环加工最终产生的A、B、C、D四个值拼接在一起，转换成字符串

## 如何破解MD5算法	
* 对于MD5的破解，实际上都属于碰撞
* 设MD5的哈希函数是H（X），那么：
	* H(A) = M
	* H(B) = M
	* 任意一个B即为破解结果。
	* B有可能等于A，也可能不等于A。	
* MD5碰撞的方法主要包括：暴力枚举法、字典法、彩虹表法
* 暴力枚举法是枚举所有原文，并计算它们的哈希值，方法简单，时间复杂度极高
* 字典法：利用一个巨大的字典，存储尽可能多的原文和对应的哈希值
	* 每次用给定的消息摘要查找字典，即可快速找到碰撞的结果
	* 虽破解速度很快，但生成字典需要巨大的空间
* 彩虹表法
	* H（X）：生成信息摘要的哈希函数，比如MD5，比如SHA256
	* R（X）：从信息摘要转换成另一个字符串的衰减函数（Reduce）
		* 其中R（X）的定义域是H（X）的值域，R（X）的值域是H（X）的定义域
		* 要注意的是，R（X）并非H（X）的反函数
	


* http://mp.weixin.qq.com/s/fJMTdu1soZ-xUgLvagQjsQ
* http://mp.weixin.qq.com/s/jqzKHVgEbRY0SkQk1SXZkg