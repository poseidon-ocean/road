# Netty - 异步和事件驱动

* Java网络编程
* Netty简介
* Netty的核心组件

## 高性能系统
* 要求超一流的编程技巧
* 需要几个复杂领域（网络编程、多线程处理和并发）的专业知识
* Netty提供了极为丰富的网络编程工具集
* Netty架构方法和设计原则：每个小点都和它的技术性内容一样重要，穷其精妙
	* 关注点分离 - 业务和网络逻辑解耦
	* 模块化和可复用性
	* 可测试性作为首要的要求

## Netty核心组件
* 主要构件块
	* Channel
	* 回调
	* Future
	* 事件和ChannelHandler
* Channel
	* 代表一个到实体的开放连接，如读操作和写操作
	* 实体：硬件设备、文件、网络套接字、一个能够执行一个或者多个不同的I/O操作的程序组件
	* 可以看作是传入或传出数据的载体
	* 可以被打开或被关闭，连接或断开连接
* 回调
	* 一个回调其实就是一个方法，一个指向已经被提供给另外一个方法的方法的引用
	* Netty在内部使用了回调来处理事件：当一个新的连接建立，ChannelHandler的 channelActive()回调方法将会被调用
* Future
	* 另一种在操作完成通知应用程序的方式
	* 将在未来的某个时刻完成，并提供对其结果的访问
	* Netty完全是异步和事件驱动的
* 事件和ChannelHandler
	* Netty使用不同的事件来通知我们状态的改变或操作的状态
		* 记录日志
		* 数据转换
		* 流控制
		* 应用程序逻辑
	* 入站事件
		* 连接已被激活或连接激活
		* 数据读取
		* 用户事件
		* 错误事件
	* 出站事件
		* 打开或关闭到远程节点的连接
		* 将数据写到或者冲刷到套接字

## 组件结合
* Future、回调和ChannelHandler
	* Netty的异步编程模型是建立在Future和回调的概念之上的
	* 将事件派发到ChannelHandler的方法则发生在更深层次上的
	* 拦截器操作和高速转换入站数据和出站数据
* 选择器、事件和EventLoop
	* 通过触发事件将Selector从应用程序中抽象出来，消除手动派发
	* 为每个Channel分配一个EventLoop，来处理事件
		* 注册感兴趣的事件
		* 将事件派发给ChannelHandler
		* 安排进一步的动作	



