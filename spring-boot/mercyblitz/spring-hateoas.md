# 使用Spring HATEOAS开发REST服务
* hypermedia as the Engine of Application State(HATEOAS)
* 是REST应用程序体系结构的一个约束
* 使用HATEOAS，客户机与应用程序服务器通过超媒体动态地提供的网络应用程序进行交互

## REST架构
* REST是Representational state transfer的缩写，表达性状态转换
* REST是一种架构风格，包含一个分布式超文本系统中对于组件、连接器和数据的约束
* REST作为互联网自身架构的抽象而出现的，其关键在于所定义的架构上的各种约束
* REST约束：
	* 客户端-服务器结构。通过一个统一的接口来分开客户端和服务器，使得两者可以独立开发和演化。客户端的实现可以简化，而服务器可以更容易的满足可伸缩性的要求。
	* 无状态。在不同客户端请求之间，服务器并不保存客户端相关的上下文状态信息。任何客户端发出的每个请求都包含了服务器处理请求所需要的全部信息。
	* 可缓存。客户端可以缓存服务器返回的响应结果。服务器可以定义响应结果的缓存设置。
	* 可分层的系统。在分层的系统中，可能有中间服务器来处理安全策略和缓存等相关问题，以提高系统的可伸缩性。客户端不需要了解中间的这些层次的细节
	* 按需代码。服务器可以通过传输可执行代码的方式来扩展或自定义客户端的行为。这是一个可选的约束。
	* 统一接口。该约束是REST服务的基础，是客户端和服务器之间的桥梁
		* 资源标识符:URI
		* 通过资源的表达来操纵资源
		* 自描述的消息
		* 超媒体作为应用状态的引擎(HATEOAS)。客户端通过服务器提供的超媒体内容动态提供的动作来进行状态转换。

## HATEOAS约束
* REST成熟度模型：
	* 第一层次(Level 0)的WEB服务只是使用HTTP作为传输方式
	* 第二层次(Level 1)的WEB服务引入资源的概念。每个资源有对应的标识符和表达
	* 第三层次(Level 2)的WEB服务使用不同的HTTP方法来进行不同的操作，并使用HTTP状态码来表示不同的结果。如HTTP GET方法来获取资源，HTTP DELETE方法来删除资源
	* 第四层次(Level 3)的WEB服务使用HATEOAS。在资源的表达式中包含了链接信息。客户端可以根据链接来发现可以执行的动作。
	
## 示例
* 一个常见的待办事项的服务，用户可以创建新的待办事项、进行编辑或标记为已完成
	* 用户：应用中的用户
	* 列表：待办事项的列表，属于某个用户
	* 事项：具体的待办事项，属于某个列表

## 链接
* HATEOAS的核心是链接。链接的存在使得客户端可以动态发现其所能执行的动作。
* 常用的rel属性
	* self，指向当前资源本身的链接的rel属性。每个资源的表达式中都应该包含此关系的链接
	* edit，指向一个可以编辑当前资源的链接
	* item，如果当前资源表示的是一个集合，则用来指向该集合中的单个资源
	* collection，如果当前资源包含在某个集合中，则用来指向该资源的集合
	* related，指向一个与当前资源相关的资源
	* search，指向一个可以搜索当前资源及其相关资源的链接
	* first、last、previous、next，这几个rel属性值都与集合中的遍历相关，分别用来指向集合中的第一个、最后一个、上一个、下一个资源





引：https://www.ibm.com/developerworks/cn/java/j-lo-SpringHATEOAS/